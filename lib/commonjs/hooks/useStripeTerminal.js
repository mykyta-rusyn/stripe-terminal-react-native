var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.UPDATE_DISCOVERED_READERS=exports.UPDATE_BATTERY_LEVEL=exports.START_READER_RECONNECT=exports.START_INSTALLING_UPDATE=exports.REQUEST_READER_INPUT=exports.REQUEST_READER_DISPLAY_MESSAGE=exports.REPORT_UPDATE_PROGRESS=exports.REPORT_READER_EVENT=exports.REPORT_LOW_BATTERY_WARNING=exports.REPORT_FORWARDING_ERROR=exports.REPORT_AVAILABLE_UPDATE=exports.READER_RECONNECT_SUCCEED=exports.READER_RECONNECT_FAIL=exports.FORWARD_PAYMENT_INTENT=exports.FINISH_INSTALLING_UPDATE=exports.FINISH_DISCOVERING_READERS=exports.FETCH_TOKEN_PROVIDER=exports.DISCONNECT=exports.CHANGE_PAYMENT_STATUS=exports.CHANGE_OFFLINE_STATUS=exports.CHANGE_CONNECTION_STATUS=exports.ACCEPT_TERMS_OF_SERVICE=void 0;exports.useStripeTerminal=useStripeTerminal;var _asyncToGenerator2=_interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));var _react=require("react");var _functions=require("../functions");var _StripeTerminalContext=require("../components/StripeTerminalContext");var _useListener=require("./useListener");var _reactNative=require("react-native");var _NativeModules$Stripe=_reactNative.NativeModules.StripeTerminalReactNative.getConstants(),FETCH_TOKEN_PROVIDER=exports.FETCH_TOKEN_PROVIDER=_NativeModules$Stripe.FETCH_TOKEN_PROVIDER,CHANGE_CONNECTION_STATUS=exports.CHANGE_CONNECTION_STATUS=_NativeModules$Stripe.CHANGE_CONNECTION_STATUS,CHANGE_PAYMENT_STATUS=exports.CHANGE_PAYMENT_STATUS=_NativeModules$Stripe.CHANGE_PAYMENT_STATUS,FINISH_DISCOVERING_READERS=exports.FINISH_DISCOVERING_READERS=_NativeModules$Stripe.FINISH_DISCOVERING_READERS,FINISH_INSTALLING_UPDATE=exports.FINISH_INSTALLING_UPDATE=_NativeModules$Stripe.FINISH_INSTALLING_UPDATE,REQUEST_READER_DISPLAY_MESSAGE=exports.REQUEST_READER_DISPLAY_MESSAGE=_NativeModules$Stripe.REQUEST_READER_DISPLAY_MESSAGE,REQUEST_READER_INPUT=exports.REQUEST_READER_INPUT=_NativeModules$Stripe.REQUEST_READER_INPUT,REPORT_AVAILABLE_UPDATE=exports.REPORT_AVAILABLE_UPDATE=_NativeModules$Stripe.REPORT_AVAILABLE_UPDATE,REPORT_UPDATE_PROGRESS=exports.REPORT_UPDATE_PROGRESS=_NativeModules$Stripe.REPORT_UPDATE_PROGRESS,START_INSTALLING_UPDATE=exports.START_INSTALLING_UPDATE=_NativeModules$Stripe.START_INSTALLING_UPDATE,UPDATE_DISCOVERED_READERS=exports.UPDATE_DISCOVERED_READERS=_NativeModules$Stripe.UPDATE_DISCOVERED_READERS,START_READER_RECONNECT=exports.START_READER_RECONNECT=_NativeModules$Stripe.START_READER_RECONNECT,READER_RECONNECT_SUCCEED=exports.READER_RECONNECT_SUCCEED=_NativeModules$Stripe.READER_RECONNECT_SUCCEED,READER_RECONNECT_FAIL=exports.READER_RECONNECT_FAIL=_NativeModules$Stripe.READER_RECONNECT_FAIL,CHANGE_OFFLINE_STATUS=exports.CHANGE_OFFLINE_STATUS=_NativeModules$Stripe.CHANGE_OFFLINE_STATUS,FORWARD_PAYMENT_INTENT=exports.FORWARD_PAYMENT_INTENT=_NativeModules$Stripe.FORWARD_PAYMENT_INTENT,REPORT_FORWARDING_ERROR=exports.REPORT_FORWARDING_ERROR=_NativeModules$Stripe.REPORT_FORWARDING_ERROR,DISCONNECT=exports.DISCONNECT=_NativeModules$Stripe.DISCONNECT,UPDATE_BATTERY_LEVEL=exports.UPDATE_BATTERY_LEVEL=_NativeModules$Stripe.UPDATE_BATTERY_LEVEL,REPORT_LOW_BATTERY_WARNING=exports.REPORT_LOW_BATTERY_WARNING=_NativeModules$Stripe.REPORT_LOW_BATTERY_WARNING,REPORT_READER_EVENT=exports.REPORT_READER_EVENT=_NativeModules$Stripe.REPORT_READER_EVENT,ACCEPT_TERMS_OF_SERVICE=exports.ACCEPT_TERMS_OF_SERVICE=_NativeModules$Stripe.ACCEPT_TERMS_OF_SERVICE;var NOT_INITIALIZED_ERROR_MESSAGE='First initialize the Stripe Terminal SDK before performing any action';function useStripeTerminal(props){var _useContext=(0,_react.useContext)(_StripeTerminalContext.StripeTerminalContext),setLoading=_useContext.setLoading,isInitialized=_useContext.isInitialized,getIsInitialized=_useContext.getIsInitialized,initialize=_useContext.initialize,setConnectedReader=_useContext.setConnectedReader,setDiscoveredReaders=_useContext.setDiscoveredReaders,connectedReader=_useContext.connectedReader,discoveredReaders=_useContext.discoveredReaders,loading=_useContext.loading,emitter=_useContext.emitter,log=_useContext.log;var _isInitialized=(0,_react.useCallback)(function(){return getIsInitialized();},[getIsInitialized]);var _ref=props||{},onUpdateDiscoveredReaders=_ref.onUpdateDiscoveredReaders,onFinishDiscoveringReaders=_ref.onFinishDiscoveringReaders,onDidFinishInstallingUpdate=_ref.onDidFinishInstallingUpdate,onDidReportAvailableUpdate=_ref.onDidReportAvailableUpdate,onDidReportReaderSoftwareUpdateProgress=_ref.onDidReportReaderSoftwareUpdateProgress,onDidStartInstallingUpdate=_ref.onDidStartInstallingUpdate,onDidRequestReaderInput=_ref.onDidRequestReaderInput,onDidRequestReaderDisplayMessage=_ref.onDidRequestReaderDisplayMessage,onDidChangePaymentStatus=_ref.onDidChangePaymentStatus,onDidChangeConnectionStatus=_ref.onDidChangeConnectionStatus,onDidStartReaderReconnect=_ref.onDidStartReaderReconnect,onDidSucceedReaderReconnect=_ref.onDidSucceedReaderReconnect,onDidFailReaderReconnect=_ref.onDidFailReaderReconnect,onDidChangeOfflineStatus=_ref.onDidChangeOfflineStatus,onDidForwardPaymentIntent=_ref.onDidForwardPaymentIntent,onDidForwardingFailure=_ref.onDidForwardingFailure,onDidDisconnect=_ref.onDidDisconnect,onDidUpdateBatteryLevel=_ref.onDidUpdateBatteryLevel,onDidReportLowBatteryWarning=_ref.onDidReportLowBatteryWarning,onDidReportReaderEvent=_ref.onDidReportReaderEvent,onDidAcceptTermsOfService=_ref.onDidAcceptTermsOfService;var _discoverReaders=(0,_react.useCallback)(function(){var _ref2=(0,_asyncToGenerator2.default)(function*(params){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.discoverReaders)(params);setLoading(false);return response;});return function(_x){return _ref2.apply(this,arguments);};}(),[_isInitialized,setLoading]);(0,_useListener.useListener)(FETCH_TOKEN_PROVIDER,function(){return null;});var didUpdateDiscoveredReaders=(0,_react.useCallback)(function(_ref3){var readers=_ref3.readers;setDiscoveredReaders(readers);onUpdateDiscoveredReaders==null||onUpdateDiscoveredReaders(readers);},[setDiscoveredReaders,onUpdateDiscoveredReaders]);var didFinishDiscoveringReaders=(0,_react.useCallback)(function(_ref4){var result=_ref4.result;onFinishDiscoveringReaders==null||onFinishDiscoveringReaders(result.error);},[onFinishDiscoveringReaders]);var didReportAvailableUpdate=(0,_react.useCallback)(function(_ref5){var result=_ref5.result;onDidReportAvailableUpdate==null||onDidReportAvailableUpdate(result);},[onDidReportAvailableUpdate]);var didStartInstallingUpdate=(0,_react.useCallback)(function(_ref6){var result=_ref6.result;onDidStartInstallingUpdate==null||onDidStartInstallingUpdate(result);},[onDidStartInstallingUpdate]);var didReportReaderSoftwareUpdateProgress=(0,_react.useCallback)(function(_ref7){var result=_ref7.result;onDidReportReaderSoftwareUpdateProgress==null||onDidReportReaderSoftwareUpdateProgress(result.progress);},[onDidReportReaderSoftwareUpdateProgress]);var didFinishInstallingUpdate=(0,_react.useCallback)(function(_ref8){var result=_ref8.result;if(result.error){var _ref9=result,error=_ref9.error;onDidFinishInstallingUpdate==null||onDidFinishInstallingUpdate({update:undefined,error:error});}else{onDidFinishInstallingUpdate==null||onDidFinishInstallingUpdate({update:result,error:undefined});}},[onDidFinishInstallingUpdate]);var didRequestReaderInput=(0,_react.useCallback)(function(_ref0){var result=_ref0.result;onDidRequestReaderInput==null||onDidRequestReaderInput(result);},[onDidRequestReaderInput]);var didRequestReaderDisplayMessage=(0,_react.useCallback)(function(_ref1){var result=_ref1.result;onDidRequestReaderDisplayMessage==null||onDidRequestReaderDisplayMessage(result);},[onDidRequestReaderDisplayMessage]);var didChangePaymentStatus=(0,_react.useCallback)(function(_ref10){var result=_ref10.result;onDidChangePaymentStatus==null||onDidChangePaymentStatus(result);},[onDidChangePaymentStatus]);var didChangeConnectionStatus=(0,_react.useCallback)(function(_ref11){var result=_ref11.result;onDidChangeConnectionStatus==null||onDidChangeConnectionStatus(result);},[onDidChangeConnectionStatus]);var didStartReaderReconnect=(0,_react.useCallback)(function(_ref12){var reader=_ref12.reader,reason=_ref12.reason;onDidStartReaderReconnect==null||onDidStartReaderReconnect(reader,reason);},[onDidStartReaderReconnect]);var didSucceedReaderReconnect=(0,_react.useCallback)(function(_ref13){var reader=_ref13.reader;onDidSucceedReaderReconnect==null||onDidSucceedReaderReconnect(reader);},[onDidSucceedReaderReconnect]);var didFailReaderReconnect=(0,_react.useCallback)(function(_ref14){var reader=_ref14.reader;onDidFailReaderReconnect==null||onDidFailReaderReconnect(reader);setConnectedReader(null);},[onDidFailReaderReconnect,setConnectedReader]);var didChangeOfflineStatus=(0,_react.useCallback)(function(_ref15){var _result$reader;var result=_ref15.result;if(!((_result$reader=result.reader)!=null&&_result$reader.networkStatus)){result.reader=undefined;}onDidChangeOfflineStatus==null||onDidChangeOfflineStatus(result);},[onDidChangeOfflineStatus]);var didForwardPaymentIntent=(0,_react.useCallback)(function(_ref16){var result=_ref16.result,error=_ref16.error;onDidForwardPaymentIntent==null||onDidForwardPaymentIntent(result,error);},[onDidForwardPaymentIntent]);var didReportForwardingError=(0,_react.useCallback)(function(_ref17){var error=_ref17.error;onDidForwardingFailure==null||onDidForwardingFailure(error);},[onDidForwardingFailure]);var didDisconnect=(0,_react.useCallback)(function(_ref18){var reason=_ref18.reason;onDidDisconnect==null||onDidDisconnect(reason);setConnectedReader(null);setDiscoveredReaders([]);},[onDidDisconnect,setConnectedReader,setDiscoveredReaders]);var didUpdateBatteryLevel=(0,_react.useCallback)(function(_ref19){var result=_ref19.result;onDidUpdateBatteryLevel==null||onDidUpdateBatteryLevel(result);},[onDidUpdateBatteryLevel]);var didReportLowBatteryWarning=(0,_react.useCallback)(function(){onDidReportLowBatteryWarning==null||onDidReportLowBatteryWarning();},[onDidReportLowBatteryWarning]);var didReportReaderEvent=(0,_react.useCallback)(function(_ref20){var result=_ref20.result;onDidReportReaderEvent==null||onDidReportReaderEvent(result);},[onDidReportReaderEvent]);var acceptTermsOfService=(0,_react.useCallback)(function(){onDidAcceptTermsOfService==null||onDidAcceptTermsOfService();},[onDidAcceptTermsOfService]);(0,_useListener.useListener)(REPORT_AVAILABLE_UPDATE,didReportAvailableUpdate);(0,_useListener.useListener)(START_INSTALLING_UPDATE,didStartInstallingUpdate);(0,_useListener.useListener)(REPORT_UPDATE_PROGRESS,didReportReaderSoftwareUpdateProgress);(0,_useListener.useListener)(FINISH_INSTALLING_UPDATE,didFinishInstallingUpdate);(0,_useListener.useListener)(UPDATE_DISCOVERED_READERS,didUpdateDiscoveredReaders);(0,_useListener.useListener)(FINISH_DISCOVERING_READERS,didFinishDiscoveringReaders);(0,_useListener.useListener)(REQUEST_READER_INPUT,didRequestReaderInput);(0,_useListener.useListener)(REQUEST_READER_DISPLAY_MESSAGE,didRequestReaderDisplayMessage);(0,_useListener.useListener)(CHANGE_PAYMENT_STATUS,didChangePaymentStatus);(0,_useListener.useListener)(CHANGE_CONNECTION_STATUS,didChangeConnectionStatus);(0,_useListener.useListener)(START_READER_RECONNECT,didStartReaderReconnect);(0,_useListener.useListener)(READER_RECONNECT_SUCCEED,didSucceedReaderReconnect);(0,_useListener.useListener)(READER_RECONNECT_FAIL,didFailReaderReconnect);(0,_useListener.useListener)(CHANGE_OFFLINE_STATUS,didChangeOfflineStatus);(0,_useListener.useListener)(FORWARD_PAYMENT_INTENT,didForwardPaymentIntent);(0,_useListener.useListener)(REPORT_FORWARDING_ERROR,didReportForwardingError);(0,_useListener.useListener)(DISCONNECT,didDisconnect);(0,_useListener.useListener)(UPDATE_BATTERY_LEVEL,didUpdateBatteryLevel);(0,_useListener.useListener)(REPORT_LOW_BATTERY_WARNING,didReportLowBatteryWarning);(0,_useListener.useListener)(REPORT_READER_EVENT,didReportReaderEvent);(0,_useListener.useListener)(ACCEPT_TERMS_OF_SERVICE,acceptTermsOfService);var _initialize=(0,_react.useCallback)((0,_asyncToGenerator2.default)(function*(){if(!initialize||typeof initialize!=='function'){var errorMessage='StripeTerminalProvider component is not found, has not been mounted properly or SDK has not been initialized properly';log('Failed',errorMessage);return{error:{code:'Failed',message:errorMessage},reader:undefined};}return yield initialize();}),[initialize,log]);var _cancelDiscovering=(0,_react.useCallback)((0,_asyncToGenerator2.default)(function*(){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.cancelDiscovering)();setDiscoveredReaders([]);setLoading(false);return response;}),[setLoading,setDiscoveredReaders,_isInitialized]);var _connectReader=(0,_react.useCallback)(function(){var _ref23=(0,_asyncToGenerator2.default)(function*(params,discoveryMethod){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.connectReader)(params,discoveryMethod);if(response.reader&&!response.error){setConnectedReader(response.reader);}setLoading(false);return response;});return function(_x2,_x3){return _ref23.apply(this,arguments);};}(),[setConnectedReader,setLoading,_isInitialized]);var _disconnectReader=(0,_react.useCallback)((0,_asyncToGenerator2.default)(function*(){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);return;}setLoading(true);var response=yield(0,_functions.disconnectReader)();if(!response.error){setConnectedReader(null);setDiscoveredReaders([]);}setLoading(false);return response;}),[setLoading,setConnectedReader,setDiscoveredReaders,_isInitialized]);var _rebootReader=(0,_react.useCallback)((0,_asyncToGenerator2.default)(function*(){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);return;}setLoading(true);var response=yield(0,_functions.rebootReader)();setLoading(false);return response;}),[setLoading,_isInitialized]);var _createPaymentIntent=(0,_react.useCallback)(function(){var _ref26=(0,_asyncToGenerator2.default)(function*(params){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.createPaymentIntent)(params);setLoading(false);return response;});return function(_x4){return _ref26.apply(this,arguments);};}(),[setLoading,_isInitialized]);var _collectPaymentMethod=(0,_react.useCallback)(function(){var _ref27=(0,_asyncToGenerator2.default)(function*(params){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.collectPaymentMethod)(params);setLoading(false);return response;});return function(_x5){return _ref27.apply(this,arguments);};}(),[setLoading,_isInitialized]);var _retrievePaymentIntent=(0,_react.useCallback)(function(){var _ref28=(0,_asyncToGenerator2.default)(function*(clientSecret){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.retrievePaymentIntent)(clientSecret);setLoading(false);return response;});return function(_x6){return _ref28.apply(this,arguments);};}(),[setLoading,_isInitialized]);var _getLocations=(0,_react.useCallback)(function(){var _ref29=(0,_asyncToGenerator2.default)(function*(params){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.getLocations)(params);setLoading(false);return response;});return function(_x7){return _ref29.apply(this,arguments);};}(),[setLoading,_isInitialized]);var _confirmPaymentIntent=(0,_react.useCallback)(function(){var _ref30=(0,_asyncToGenerator2.default)(function*(param){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.confirmPaymentIntent)(param);setLoading(false);return response;});return function(_x8){return _ref30.apply(this,arguments);};}(),[setLoading,_isInitialized]);var _createSetupIntent=(0,_react.useCallback)(function(){var _ref31=(0,_asyncToGenerator2.default)(function*(params){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.createSetupIntent)(params);setLoading(false);return response;});return function(_x9){return _ref31.apply(this,arguments);};}(),[_isInitialized,setLoading]);var _cancelPaymentIntent=(0,_react.useCallback)(function(){var _ref32=(0,_asyncToGenerator2.default)(function*(params){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.cancelPaymentIntent)(params);setLoading(false);return response;});return function(_x0){return _ref32.apply(this,arguments);};}(),[setLoading,_isInitialized]);var _installAvailableUpdate=(0,_react.useCallback)((0,_asyncToGenerator2.default)(function*(){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.installAvailableUpdate)();setLoading(false);return response;}),[setLoading,_isInitialized]);var _cancelInstallingUpdate=(0,_react.useCallback)((0,_asyncToGenerator2.default)(function*(){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.cancelInstallingUpdate)();setLoading(false);return response;}),[setLoading,_isInitialized]);var _setReaderDisplay=(0,_react.useCallback)(function(){var _ref35=(0,_asyncToGenerator2.default)(function*(cart){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.setReaderDisplay)(cart);setLoading(false);return response;});return function(_x1){return _ref35.apply(this,arguments);};}(),[setLoading,_isInitialized]);var _retrieveSetupIntent=(0,_react.useCallback)(function(){var _ref36=(0,_asyncToGenerator2.default)(function*(clientSecret){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.retrieveSetupIntent)(clientSecret);setLoading(false);return response;});return function(_x10){return _ref36.apply(this,arguments);};}(),[setLoading,_isInitialized]);var _collectSetupIntentPaymentMethod=(0,_react.useCallback)(function(){var _ref37=(0,_asyncToGenerator2.default)(function*(params){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.collectSetupIntentPaymentMethod)(params);setLoading(false);return response;});return function(_x11){return _ref37.apply(this,arguments);};}(),[setLoading,_isInitialized]);var _clearReaderDisplay=(0,_react.useCallback)((0,_asyncToGenerator2.default)(function*(){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.clearReaderDisplay)();setLoading(false);return response;}),[setLoading,_isInitialized]);var _cancelSetupIntent=(0,_react.useCallback)(function(){var _ref39=(0,_asyncToGenerator2.default)(function*(params){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.cancelSetupIntent)(params);setLoading(false);return response;});return function(_x12){return _ref39.apply(this,arguments);};}(),[setLoading,_isInitialized]);var _confirmSetupIntent=(0,_react.useCallback)(function(){var _ref40=(0,_asyncToGenerator2.default)(function*(params){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.confirmSetupIntent)(params);setLoading(false);return response;});return function(_x13){return _ref40.apply(this,arguments);};}(),[setLoading,_isInitialized]);var _setSimulatedCard=(0,_react.useCallback)(function(){var _ref41=(0,_asyncToGenerator2.default)(function*(cardNumber){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.setSimulatedCard)(cardNumber);setLoading(false);return response;});return function(_x14){return _ref41.apply(this,arguments);};}(),[_isInitialized,setLoading]);var _setSimulatedOfflineMode=(0,_react.useCallback)(function(){var _ref42=(0,_asyncToGenerator2.default)(function*(simulatedOffline){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.setSimulatedOfflineMode)(simulatedOffline);setLoading(false);return response;});return function(_x15){return _ref42.apply(this,arguments);};}(),[_isInitialized,setLoading]);var _setSimulatedCollectInputsResult=(0,_react.useCallback)(function(){var _ref43=(0,_asyncToGenerator2.default)(function*(simulatedCollectInputsBehavior){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.setSimulatedCollectInputsResult)(simulatedCollectInputsBehavior);setLoading(false);return response;});return function(_x16){return _ref43.apply(this,arguments);};}(),[_isInitialized,setLoading]);var _simulateReaderUpdate=(0,_react.useCallback)(function(){var _ref44=(0,_asyncToGenerator2.default)(function*(update){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.simulateReaderUpdate)(update);setLoading(false);return response;});return function(_x17){return _ref44.apply(this,arguments);};}(),[setLoading,_isInitialized]);var _collectRefundPaymentMethod=(0,_react.useCallback)(function(){var _ref45=(0,_asyncToGenerator2.default)(function*(params){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.collectRefundPaymentMethod)(params);setLoading(false);return response;});return function(_x18){return _ref45.apply(this,arguments);};}(),[setLoading,_isInitialized]);var _confirmRefund=(0,_react.useCallback)((0,_asyncToGenerator2.default)(function*(){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.confirmRefund)();setLoading(false);return response;}),[setLoading,_isInitialized]);var _clearCachedCredentials=(0,_react.useCallback)((0,_asyncToGenerator2.default)(function*(){setLoading(true);var response=yield(0,_functions.clearCachedCredentials)();setLoading(false);return response;}),[setLoading]);var _cancelCollectPaymentMethod=(0,_react.useCallback)((0,_asyncToGenerator2.default)(function*(){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.cancelCollectPaymentMethod)();setLoading(false);return response;}),[setLoading,_isInitialized]);var _cancelCollectRefundPaymentMethod=(0,_react.useCallback)((0,_asyncToGenerator2.default)(function*(){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.cancelCollectRefundPaymentMethod)();setLoading(false);return response;}),[_isInitialized,setLoading]);var _cancelCollectSetupIntent=(0,_react.useCallback)((0,_asyncToGenerator2.default)(function*(){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.cancelCollectSetupIntent)();setLoading(false);return response;}),[_isInitialized,setLoading]);var _cancelConfirmPaymentIntent=(0,_react.useCallback)((0,_asyncToGenerator2.default)(function*(){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.cancelConfirmPaymentIntent)();setLoading(false);return response;}),[_isInitialized,setLoading]);var _cancelConfirmSetupIntent=(0,_react.useCallback)((0,_asyncToGenerator2.default)(function*(){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.cancelConfirmSetupIntent)();setLoading(false);return response;}),[_isInitialized,setLoading]);var _cancelConfirmRefund=(0,_react.useCallback)((0,_asyncToGenerator2.default)(function*(){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.cancelConfirmRefund)();setLoading(false);return response;}),[_isInitialized,setLoading]);var _getOfflineStatus=(0,_react.useCallback)((0,_asyncToGenerator2.default)(function*(){var _response$reader;if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}var response=yield(0,_functions.getOfflineStatus)();if(!((_response$reader=response.reader)!=null&&_response$reader.networkStatus)){response.reader=undefined;}return response;}),[_isInitialized]);var _getPaymentStatus=(0,_react.useCallback)((0,_asyncToGenerator2.default)(function*(){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}var response=yield(0,_functions.getPaymentStatus)();return response;}),[_isInitialized]);var _getConnectionStatus=(0,_react.useCallback)((0,_asyncToGenerator2.default)(function*(){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}var response=yield(0,_functions.getConnectionStatus)();return response;}),[_isInitialized]);var _getConnectedReader=(0,_react.useCallback)((0,_asyncToGenerator2.default)(function*(){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}var response=yield(0,_functions.getConnectedReader)();return response;}),[_isInitialized]);var _getReaderSettings=(0,_react.useCallback)((0,_asyncToGenerator2.default)(function*(){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}var response=yield(0,_functions.getReaderSettings)();return response;}),[_isInitialized]);var _setReaderSettings=(0,_react.useCallback)(function(){var _ref59=(0,_asyncToGenerator2.default)(function*(params){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}var response=yield(0,_functions.setReaderSettings)(params);return response;});return function(_x19){return _ref59.apply(this,arguments);};}(),[_isInitialized]);var _collectInputs=(0,_react.useCallback)(function(){var _ref60=(0,_asyncToGenerator2.default)(function*(params){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.collectInputs)(params);setLoading(false);return response;});return function(_x20){return _ref60.apply(this,arguments);};}(),[_isInitialized,setLoading]);var _cancelCollectInputs=(0,_react.useCallback)((0,_asyncToGenerator2.default)(function*(){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.cancelCollectInputs)();setLoading(false);return response;}),[_isInitialized,setLoading]);var _collectData=(0,_react.useCallback)(function(){var _ref62=(0,_asyncToGenerator2.default)(function*(params){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.collectData)(params);setLoading(false);return response;});return function(_x21){return _ref62.apply(this,arguments);};}(),[_isInitialized,setLoading]);var _cancelCollectData=(0,_react.useCallback)((0,_asyncToGenerator2.default)(function*(){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.cancelCollectData)();setLoading(false);return response;}),[_isInitialized,setLoading]);var _print=(0,_react.useCallback)(function(){var _ref64=(0,_asyncToGenerator2.default)(function*(content){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.print)(content);setLoading(false);return response;});return function(_x22){return _ref64.apply(this,arguments);};}(),[_isInitialized,setLoading]);var _cancelReaderReconnection=(0,_react.useCallback)((0,_asyncToGenerator2.default)(function*(){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.cancelReaderReconnection)();setLoading(false);return response;}),[_isInitialized,setLoading]);var _supportsReadersOfType=(0,_react.useCallback)(function(){var _ref66=(0,_asyncToGenerator2.default)(function*(params){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.supportsReadersOfType)(params);setLoading(false);return response;});return function(_x23){return _ref66.apply(this,arguments);};}(),[_isInitialized,setLoading]);var _setTapToPayUxConfiguration=(0,_react.useCallback)(function(){var _ref67=(0,_asyncToGenerator2.default)(function*(params){if(!_isInitialized()){console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);}setLoading(true);var response=yield(0,_functions.setTapToPayUxConfiguration)(params);setLoading(false);return response;});return function(_x24){return _ref67.apply(this,arguments);};}(),[_isInitialized,setLoading]);var _getNativeSdkVersion=(0,_react.useCallback)((0,_asyncToGenerator2.default)(function*(){return yield(0,_functions.getNativeSdkVersion)();}),[]);return{initialize:_initialize,discoverReaders:_discoverReaders,cancelDiscovering:_cancelDiscovering,connectReader:_connectReader,disconnectReader:_disconnectReader,rebootReader:_rebootReader,createPaymentIntent:_createPaymentIntent,collectPaymentMethod:_collectPaymentMethod,retrievePaymentIntent:_retrievePaymentIntent,getLocations:_getLocations,confirmPaymentIntent:_confirmPaymentIntent,createSetupIntent:_createSetupIntent,cancelPaymentIntent:_cancelPaymentIntent,installAvailableUpdate:_installAvailableUpdate,cancelInstallingUpdate:_cancelInstallingUpdate,setReaderDisplay:_setReaderDisplay,clearReaderDisplay:_clearReaderDisplay,retrieveSetupIntent:_retrieveSetupIntent,collectSetupIntentPaymentMethod:_collectSetupIntentPaymentMethod,cancelSetupIntent:_cancelSetupIntent,confirmSetupIntent:_confirmSetupIntent,simulateReaderUpdate:_simulateReaderUpdate,collectRefundPaymentMethod:_collectRefundPaymentMethod,confirmRefund:_confirmRefund,clearCachedCredentials:_clearCachedCredentials,cancelCollectPaymentMethod:_cancelCollectPaymentMethod,cancelCollectRefundPaymentMethod:_cancelCollectRefundPaymentMethod,cancelCollectSetupIntent:_cancelCollectSetupIntent,cancelConfirmPaymentIntent:_cancelConfirmPaymentIntent,cancelConfirmSetupIntent:_cancelConfirmSetupIntent,cancelConfirmRefund:_cancelConfirmRefund,setSimulatedCard:_setSimulatedCard,setSimulatedOfflineMode:_setSimulatedOfflineMode,setSimulatedCollectInputsResult:_setSimulatedCollectInputsResult,getOfflineStatus:_getOfflineStatus,getPaymentStatus:_getPaymentStatus,getConnectionStatus:_getConnectionStatus,getConnectedReader:_getConnectedReader,getReaderSettings:_getReaderSettings,setReaderSettings:_setReaderSettings,collectInputs:_collectInputs,cancelCollectInputs:_cancelCollectInputs,collectData:_collectData,cancelCollectData:_cancelCollectData,print:_print,cancelReaderReconnection:_cancelReaderReconnection,supportsReadersOfType:_supportsReadersOfType,setTapToPayUxConfiguration:_setTapToPayUxConfiguration,getNativeSdkVersion:_getNativeSdkVersion,emitter:emitter,discoveredReaders:discoveredReaders,connectedReader:connectedReader,isInitialized:isInitialized,getIsInitialized:getIsInitialized,loading:loading};}
//# sourceMappingURL=useStripeTerminal.js.map